google.charts.load("current", {packages:["corechart"]});
google.charts.setOnLoadCallback(drawChart);
var jsonData;
obtenerEstadisticas();
window.setInterval("obtenerEstadisticas()", 10000);
function obtenerEstadisticas(){

<<<<<<< HEAD
    var xml = new XMLHttpRequest();
    xml.open('GET', 'home/pieChart', true);
    xml.addEventListener('load', function(){
    jsonData = JSON.parse(xml.responseText);
    drawChartPie();
  });
  xml.send();
}
=======
        var options = {
          title: 'Smart Parking',
          colors: ['#10ac84', "#ff6b6b", "#2e86de"],
          height: 320,
          width: 350,
          pieHole: 0.4,
        };
>>>>>>> 764f0b2bcffaa796d0d4efdc004f70dea2eabe71

function drawChartPie() {
  var data = google.visualization.arrayToDataTable([
    ['Status', 'Quantity'],
    ['Vacant',     jsonData[0].disponibles],
    ['Occupied',      jsonData[0].ocupados],
    ['Reserved',  jsonData[0].reservados]
  ]);

  var options = {
    title: 'Smart Parking',
    colors: ['#10ac84', "#ff6b6b", "#2e86de"],
    height: 320,
    width: 400,
    pieHole: 0.4,
  };

  var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
  chart.draw(data, options);
}